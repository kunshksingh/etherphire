{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'phire.css'%}" />
    <title>Etherphire</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300&display=swap');
    </style>
     <script type = "text/javascript" src = "{% static 'filter.js'%}">
    </script>
</head>
<body>
    <header>
        
        <div class = "sticky">
            <li class = "box"><a class = "headlink" href="/poetry/" style = "text-decoration:underline" data-slug="poetry">All Poetry</a></li>
            <li class = "box"><a class = "headlink" href="/blog/" data-slug="blog">Blog</a></li>
            <li class = "box"><a class = "headlink" href="/automation/" data-slug="automation">Automatic Poet</a></li>
            <li class = "box"><a class = "headlink" href="https://github.com/kunshksingh/etherphire" data-slug="github">Github</a></li> 
        </div>
    </header>
    
    <main id = "items">
        <form role = "form" style = "margin-top:3vh">
            <fieldset>
                <div class="form-group">
                    <input onkeyup="poemFilter()" style = "margin:auto; display:block; width: 20vw" class="form-control" placeholder="filter" name="filter" id = "filter" type="text" >
                </div>
            </fieldset>
        </form>
       
        <script type = "text/javascript">
            var i = 0;
            var raw = "{{tags|safe}}";

            var rawI = 0;
            raw = raw.replaceAll("'","");
            raw = raw.replaceAll("]","");

            var tags = raw.split(", [").map(function(x){return x.split(",")});
           
            //Remove trailing [['s'
            tags[0][0] = tags[0][0].replaceAll("[","")

            //Remove trailing spaces in elements
            for (var j = 0; j < tags.length; j++)
            {
                if (tags[j].length > 1)
                {
                    for (var k = 0; k < tags[j].length; k++)
                    {
                        tags[j][k] = tags[j][k].replaceAll(/\s+/g, "");
                    }
                }
            }
          
        </script>
        {%  for name in poemNames %}
        <script>
             var html = '';
        </script>
        <div class = "card justify-content-center">
            <div class = "card-body col-md-6 align-self-center">
                <div class = "poemBox">
                    <span class = "card-title poemTitle"><a style = "text-decoration:none; color:white" href = "/poetry/{{ name }}/" class = "card-link" >{{ name }}</a></span>
                    <hr class = "lightLine"> 
                    <!--
                    <span id = "wrapperTag"></span>
                    <script>
                        for (j = 0; j<tags[i].length; j++)
                        {
                            html += "<p class = 'tags'>"+tags[i][j]+"</p>";
                            
                        }
                        document.getElementById("wrapperTag").innerHTML = html;
                        i += 1;
                    </script>
                    -->
                </div>
            </div>
        </div>

        <hr style = "background:white">
      
        {% endfor %}
       

    </main>
    <footer class ="fadeddata footer">
        <div>
            <a class = "faded" href="https://github.com/kunshksingh/etherphire" data-slug="github"><img style = "height:15%;width:15%; margin-left: 6vw;" src = "https://github.githubassets.com/images/modules/logos_page/Octocat.png"></a>
            <a class = "faded" href="" data-slug="instagram"> <img style = "height:9%;width:9%;   margin-left: 5vw; margin-top:2vh" src = "https://cdn-icons-png.flaticon.com/512/174/174855.png"> </a>
            <a class = "faded" href="" data-slug="twitter"> <img style = "height:11%;width:11%;   margin-left: 7vw;" src = "https://cdn3.iconfinder.com/data/icons/social-media-logos-flat-colorful/2048/5294_-_Twitter_I-512.png"> </a>
        </div> 
    </footer>
</body>
</html>
